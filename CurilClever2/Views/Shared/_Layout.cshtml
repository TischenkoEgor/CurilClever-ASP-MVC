<!DOCTYPE html>
<html lang="ru">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script src="~/lib/jquery/dist/jquery.js"></script>
  <script src="~/lib/jquery-ajax-unobtrusive/jquery.ajax.unobtrusive.js"></script>
  <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>
  <script src="~/lib/jquery-validation/dist/jquery.validate.js"></script>
  <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>
  <script src="~/lib/jquery-ui/jquery-ui.js"></script>
  <script src="~/js/jquery.cookie.js"></script>
  <script src="~/js/printview.js" ></script>

  <script src="~/js/site.js" asp-append-version="true"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>@ViewData["Title"]</title>

  <environment include="Development">
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="~/css/site.css" />
  </environment>

  <environment exclude="Development">
    <link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/css/bootstrap.min.css"
          asp-fallback-href="~/lib/bootstrap/dist/css/bootstrap.min.css"
          asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute" />
    <link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true" />
  </environment>
  <style>
    div#barcontainer {
      width: 100%;
      height: 400px;
      margin: auto;
      background-color: #2F4A6D;
    }

    svg {
      width: 100%;
      height: 100%;
    }

    .bar {
      fill: #80cbc4;
    }

    text {
      font-size: 12px;
      fill: #fff;
    }

    path {
      stroke: gray;
    }

    line {
      stroke: gray;
    }

      line#limit {
        stroke: #FED966;
        stroke-width: 3;
        stroke-dasharray: 3 6;
      }

    .grid path {
      stroke-width: 0;
    }

    .grid .tick line {
      stroke: #9FAAAE;
      stroke-opacity: 0.3;
    }

    text.divergence {
      font-size: 14px;
      fill: #2F4A6D;
    }

    text.value {
      font-size: 14px;
    }

    text.title {
      font-size: 22px;
      font-weight: 600;
    }

    text.label {
      font-size: 14px;
      font-weight: 400;
    }

    text.source {
      font-size: 10px;
    }
  </style>
</head>
<body>
  <header>
    <div class="navbar navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Curil Clever</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a asp-area="" asp-controller="Home" asp-action="Index">Главная</a></li>
            <li><a asp-area="" asp-controller="Order" asp-action="Index">Управение заявками</a></li>
            <li><a asp-area="" asp-controller="Client" asp-action="index">Управление клиентами</a></li>
            <li><a asp-area="" asp-controller="Hotel" asp-action="Index">Управление отелями</a></li>
            <li id="accountblock" class="dropdown"> </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
  </header>
  <partial name="_CookieConsentPartial" />

  <div class="container body-content">
    @RenderBody()

    <hr />
    <footer>
      <div class="blog-footer">
        <p>Все права защищены (c) 2018. Разработчик сайта креативная веб Студия "<a href="http://vk.com/night_mare_218">Cretin Development"</a></p>
        <!-- кнопки переключения-->
        <a id="print_view_btn">версия для печати</a>
        <a id="default_view_btn">обычная версия</a>

      </div>
    </footer>
  </div>

  <environment include="Development">



  </environment>
  <environment exclude="Development">
    @*<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.3.1.min.js"
              asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
              asp-fallback-test="window.jQuery"
              crossorigin="anonymous"
              integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT">
      </script>
      <script src="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/bootstrap.min.js"
              asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.min.js"
              asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal"
              crossorigin="anonymous"
              integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa">
      </script>
      <script src="~/js/site.min.js" asp-append-version="true"></script>*@


  </environment>
  @RenderSection("Scripts", required: false)

  <script type="text/javascript">
    // ajax загрузка блока с данными аккаунта и элемента меню
    $('#accountblock').load(
      "/home/accountinfo",
      function () { }
    );


    // обработка версии для печати
    // если в куках нет настройки на режим вывода для печати
    if ($.cookie('print_view') != '1') {

      // вызываем переключение страницы в стандартный режим
      SwitchToDefaultView();
    }
    else {
      // Если кука есть и равна 1,(значит что страница должна быть в виде для печати) то мы
      // вызываем переключение страницы в режим для печати
      SwitchToPrintView();
    }

    // добавляем обработку клика на кнопку переключение в вид для печати
    $('#print_view_btn').click(function () {
      // в обработчике просто вызываем функцию переключения
      SwitchToPrintView();
    });

    // добавляем обработку клика на кнопку переключение в стандартный вид
    $('#default_view_btn').click(function () {
      // в обработчике просто вызываем функцию переключения
      SwitchToDefaultView();
    });

  </script>
</body>
</html>
